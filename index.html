<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Encoding vs Hashing vs Encryption | JWT Deep Dive</title>
    <style>
        /* --- IMPORTS & VARS --- */
        @import url('https://fonts.googleapis.com/css2?family=Archivo+Black&family=Patrick+Hand&family=Space+Mono:ital,wght@0,400;0,700;1,400&display=swap');

        :root {
            --bg: #f4f3ef; /* Off-white paper */
            --ink: #1a1a1a;
            --bauhaus-red: #ff3b30;
            --bauhaus-blue: #007aff;
            --bauhaus-yellow: #ffcc00;
            --shadow: 8px 8px 0px var(--ink);
            --border: 3px solid var(--ink);
            --radius-sketch: 255px 15px 225px 15px / 15px 225px 15px 255px;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            background-color: var(--bg);
            color: var(--ink);
            font-family: 'Space Mono', monospace;
            overflow: hidden;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* --- TYPOGRAPHY --- */
        h1, h2, h3 {
            font-family: 'Archivo Black', sans-serif;
            text-transform: uppercase;
            line-height: 1;
        }
        h1 { font-size: 3.5rem; margin-bottom: 20px; }
        h2 { font-size: 2.8rem; margin-bottom: 15px; color: var(--ink); }
        h3 { font-size: 1.5rem; margin-bottom: 10px; }
        
        p, li {
            font-family: 'Patrick Hand', cursive;
            font-size: 1.6rem;
            line-height: 1.3;
        }

        .mono {
            font-family: 'Space Mono', monospace;
            font-size: 1rem;
        }

        /* --- LAYOUT & SLIDES --- */
        .controls {
            position: fixed;
            bottom: 30px; right: 30px; z-index: 100;
            display: flex; gap: 15px;
        }

         .highlighter {
            background: linear-gradient(120deg, transparent 0%, var(--bauhaus-yellow) 0%, var(--bauhaus-yellow) 100%, transparent 100%);
            background-size: 100% 40%;
            background-position: 0 60%;
            background-repeat: no-repeat;
            font-weight: bold;
            padding: 0 4px;
            position: relative;
        }

        .btn {
            background: white; border: var(--border); padding: 15px 30px;
            font-weight: bold; font-family: 'Archivo Black', sans-serif;
            cursor: pointer; box-shadow: var(--shadow);
            transition: transform 0.1s, box-shadow 0.1s; font-size: 1.2rem;
        }
        .btn:active { transform: translate(4px, 4px); box-shadow: 4px 4px 0px var(--ink); }
        .btn-red { background-color: var(--bauhaus-red); color: white; }
        .btn-blue { background-color: var(--bauhaus-blue); color: white; }

        .slides-container {
            width: 100%; height: 100%; position: relative;
        }

        .slide {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            opacity: 0; visibility: hidden;
            transition: opacity 0.4s ease, visibility 0.4s;
            padding: 40px;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            background-image: radial-gradient(#ccc 1px, transparent 1px);
            background-size: 20px 20px;
        }
        .slide.active { opacity: 1; visibility: visible; }

        /* --- CARDS & BOXES --- */
        .card {
            background: white; border: var(--border); padding: 40px;
            box-shadow: var(--shadow); max-width: 1100px; width: 95%;
            position: relative; z-index: 2;
        }
        .sketchy-box { border-radius: var(--radius-sketch); }

        .tag {
            display: inline-block; padding: 5px 12px; color: white;
            font-weight: bold; border: 3px solid black; margin-bottom: 15px;
            text-transform: uppercase; font-size: 1rem; box-shadow: 4px 4px 0px black;
            font-family: 'Archivo Black', sans-serif;
        }
        .bg-blue { background: var(--bauhaus-blue); }
        .bg-red { background: var(--bauhaus-red); }
        .bg-yellow { background: var(--bauhaus-yellow); color: black; }

        /* --- DIAGRAMS --- */
        .diagram-container {
            display: flex; align-items: center; justify-content: space-around;
            margin: 30px 0; width: 100%;
        }

        .node {
            border: 3px solid black; padding: 20px; background: white;
            text-align: center; min-width: 150px; position: relative;
        }
        .node-title { font-family: 'Archivo Black'; font-size: 1.2rem; }
        .node-desc { font-family: 'Patrick Hand'; font-size: 1.1rem; color: #555; }

        /* Custom Arrow SVG */
        .arrow-svg { width: 60px; height: 40px; stroke: black; stroke-width: 3; fill: none; }
        
        .code-terminal {
            background: #1a1a1a; color: #00ff00; padding: 20px;
            border: 3px solid black; margin-top: 20px;
            font-family: 'Space Mono', monospace; font-size: 0.95rem;
            position: relative; box-shadow: 6px 6px 0px rgba(0,0,0,0.2);
        }

        

        /* --- ANIMATIONS --- */
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.02); } 100% { transform: scale(1); } }
        .highlight { animation: pulse 2s infinite; border-color: var(--bauhaus-red); }

        /* --- JWT FLOW SPECIFIC --- */
        .flow-grid {
            display: grid;
            grid-template-columns: 1fr 100px 1fr;
            grid-template-rows: auto auto auto;
            gap: 20px;
            align-items: center;
            width: 100%;
        }
        
        .flow-step {
            background: #fff; border: 2px solid black; padding: 15px;
            position: relative;
        }
        .step-num {
            position: absolute; top: -15px; left: -10px;
            background: var(--bauhaus-yellow); color: black;
            width: 30px; height: 30px; border: 2px solid black;
            border-radius: 50%; display: flex; align-items: center; justify-content: center;
            font-weight: bold; font-family: 'Archivo Black';
        }

    </style>
</head>
<body>

    <!-- DECORATIVE SHAPES -->
    <div style="position: absolute; top: -50px; left: -50px; width: 200px; height: 200px; background: var(--bauhaus-red); border-radius: 50%; border: 3px solid black; z-index: 1;"></div>
    <div style="position: absolute; bottom: 50px; right: 100px; width: 100px; height: 100px; background: var(--bauhaus-blue); transform: rotate(45deg); border: 3px solid black; z-index: 1;"></div>
    <div style="position: absolute; top: 40%; left: 5%; width: 0; height: 0; border-left: 40px solid transparent; border-right: 40px solid transparent; border-bottom: 80px solid var(--bauhaus-yellow); z-index: 1;"></div>

    <div class="slides-container">

        <!-- SLIDE 1: INTRO -->
        <div class="slide active">
            <div class="card sketchy-box" style="text-align: center; border-width: 5px;">
                <h1 style="font-size: 4.5rem;">Data Security<br>Primitives</h1>
                <div style="height: 5px; background: black; width: 100px; margin: 0 auto 20px;"></div>
                <p>Encoding vs. Hashing vs. Encryption</p>
                <p style="color: var(--bauhaus-blue); margin-top: 10px;">+ Part 2: JSON Web Tokens (JWT)</p>
                <div style="margin-top: 40px; font-family: 'Patrick Hand'; color: #666;">
                    (Use Arrow Keys or Buttons to Navigate)
                </div>
            </div>
        </div>

        <!-- SLIDE 2: ENCODING -->
        <div class="slide">
            <span class="tag bg-blue">01. Encoding</span>
            <div class="card sketchy-box">
                <h2>Encoding</h2>
                <p><strong>Goal:</strong> Data Usability & Portability.</p>
                <p>It transforms data into a specific format so it can be safely consumed by different systems (e.g., sending binary images over text-only email).</p>

                <!-- Encoding Diagram -->
                <div class="diagram-container">
                    <div class="node">
                        <div class="node-title">Raw Data</div>
                        <div class="node-desc">"Hello World"</div>
                    </div>
                    
                    <div style="text-align: center;">
                        <div class="mono" style="background:var(--bauhaus-yellow); padding:5px; border:2px solid black; display:inline-block;">Base64 Algorithm</div>
                        <br>
                        <!-- Double Arrow -->
                        <svg class="arrow-svg" viewBox="0 0 100 40" style="width:100px;">
                            <path d="M10,20 L90,20 M10,20 L20,10 M10,20 L20,30 M90,20 L80,10 M90,20 L80,30" stroke="black" stroke-width="3" fill="none"/>
                        </svg>
                        <br>
                        <span class="mono" style="font-size: 0.8rem;">NO KEY REQUIRED</span>
                    </div>

                    <div class="node">
                        <div class="node-title">Encoded</div>
                        <div class="node-desc">"SGVsbG8..."</div>
                    </div>
                </div>

                <div class="code-terminal">
                    // BROWSER CONSOLE<br>
                    > btoa("Alice&Bob")  <span style="color:#777">// Encode</span><br>
                    "QWxpY2UmQm9i"<br>
                    > atob("QWxpY2UmQm9i") <span style="color:#777">// Decode</span><br>
                    "Alice&Bob"<br>
                    <br>
                    <span style="color: yellow;">WARN:</span> Encoding provides NO security. Anyone can decode it.
                </div>
            </div>
        </div>

        <!-- SLIDE 3: HASHING -->
        <div class="slide">
            <span class="tag bg-red">02. Hashing</span>
            <div class="card">
                <h2>Hashing</h2>
                <p><strong>Goal:</strong> Integrity & Verification.</p>
                <p>A "one-way" function. You put data in, you get a unique fingerprint out. You cannot reverse it to get the original data.</p>

                <!-- Hashing Diagram -->
                <div style="display: grid; grid-template-columns: 1fr auto 1fr; align-items: center; gap: 20px; margin: 30px 0;">
                    
                    <div style="display: flex; flex-direction: column; gap: 10px;">
                        <div class="node" style="background: #eee;">
                            <div class="node-title">"password123"</div>
                        </div>
                        <div class="node" style="background: #eee;">
                            <div class="node-title">"HugeFile.zip"</div>
                        </div>
                    </div>

                    <div style="text-align: center; position: relative;">
                        <div style="font-size: 3rem;">‚öôÔ∏è</div>
                        <div class="mono" style="background:black; color:white; padding:5px;">SHA-256</div>
                        <svg class="arrow-svg" viewBox="0 0 60 20" style="width:60px;">
                            <path d="M0,10 L50,10 M50,10 L40,0 M50,10 L40,20" stroke="black" stroke-width="4"/>
                        </svg>
                    </div>

                    <div style="display: flex; flex-direction: column; gap: 10px;">
                        <div class="node" style="border-style: dashed;">
                            <div class="node-desc mono" style="font-size: 0.8rem; word-break: break-all;">ef92b778bafe771e89245b89ecbc08a44a4e166c06659911881f383d4473e94f</div>
                        </div>
                        <div class="node" style="border-style: dashed;">
                            <div class="node-desc mono" style="font-size: 0.8rem;">(Different hash, fixed length)</div>
                        </div>
                    </div>

                </div>

                <ul style="margin-left: 20px;">
                    <li><strong>Deterministic:</strong> Same input = Always same output.</li>
                    <li><strong>Avalanche Effect:</strong> Change 1 character => Totally different hash.</li>
                    <li><strong>Use Case:</strong> Password storage (store the hash, not the password!), Digital Signatures.</li>
                </ul>
            </div>
        </div>

        <!-- SLIDE 4: ENCRYPTION -->
        <div class="slide">
            <span class="tag bg-yellow">03. Encryption</span>
            <div class="card sketchy-box">
                <h2>Encryption</h2>
                <p><strong>Goal:</strong> Confidentiality & Secrecy.</p>
                <p>Scrambling data so that only authorized parties (with a key) can read it.</p>

                <!-- Encryption Diagram -->
                <div class="diagram-container">
                    <div class="node">
                        <div class="node-title">Plaintext</div>
                        <div class="node-desc">"Secret Plans"</div>
                    </div>

                    <div style="text-align: center;">
                        <div style="font-size: 2rem;">üîí</div>
                        <div class="mono">+ Key A</div>
                        <svg class="arrow-svg" viewBox="0 0 60 20" style="width:60px; margin-top:5px;">
                            <path d="M0,10 L50,10 M50,10 L40,0 M50,10 L40,20" stroke="black" stroke-width="3"/>
                        </svg>
                    </div>

                    <div class="node" style="background: #333; color: white;">
                        <div class="node-title">Ciphertext</div>
                        <div class="node-desc">"8xF#9@zL!"</div>
                    </div>

                    <div style="text-align: center;">
                        <div style="font-size: 2rem;">üîì</div>
                        <div class="mono">+ Key A</div>
                        <svg class="arrow-svg" viewBox="0 0 60 20" style="width:60px; margin-top:5px;">
                            <path d="M0,10 L50,10 M50,10 L40,0 M50,10 L40,20" stroke="black" stroke-width="3"/>
                        </svg>
                    </div>

                    <div class="node">
                        <div class="node-title">Plaintext</div>
                        <div class="node-desc">"Secret Plans"</div>
                    </div>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px;">
                    <div class="flow-step">
                        <h3 style="color: var(--bauhaus-blue)">Symmetric</h3>
                        <p class="mono" style="font-size: 0.9rem;">Same key locks and unlocks.<br>Fast, but how to share key?</p>
                        <p>Ex: AES</p>
                    </div>
                    <div class="flow-step">
                        <h3 style="color: var(--bauhaus-red)">Asymmetric</h3>
                        <p class="mono" style="font-size: 0.9rem;">Public Key locks, Private Key unlocks.<br>Secure sharing.</p>
                        <p>Ex: RSA, TLS (HTTPS)</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- SLIDE 5: JWT STRUCTURE -->
        <div class="slide">
            <span class="tag bg-blue">04. JWT Structure</span>
            <div class="card">
                <h2>JSON Web Token</h2>
                <p>A compact, URL-safe means of representing claims to be transferred between two parties. It is <strong>Signed</strong> (Hashing), and <strong>Encoded</strong>.</p>
                
                <div style="background: #fff; border: 3px solid black; padding: 15px; margin: 20px 0; word-break: break-all; font-family: 'Space Mono', monospace; font-size: 1.4rem; box-shadow: 4px 4px 0 #ccc;">
                    <span style="color: var(--bauhaus-red); font-weight: bold;">HEADER</span>.<span style="color: var(--bauhaus-blue); font-weight: bold;">PAYLOAD</span>.<span style="color: #eda800; font-weight: bold;">SIGNATURE</span>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px;">
                    <!-- Header -->
                    <div class="node" style="border-color: var(--bauhaus-red); text-align: left;">
                        <h3 style="color: var(--bauhaus-red)">1. Header</h3>
                        <div class="code-terminal" style="margin: 0; padding: 10px; border: none; background: #fafafa; color: black; font-size: 0.8rem;">
                            {<br>
                              "alg": "HS256",<br>
                              "typ": "JWT"<br>
                            }
                        </div>
                        <p class="mono" style="font-size: 0.8rem; margin-top: 5px;">(Base64 Encoded)</p>
                    </div>

                    <!-- Payload -->
                    <div class="node" style="border-color: var(--bauhaus-blue); text-align: left;">
                        <h3 style="color: var(--bauhaus-blue)">2. Payload</h3>
                        <div class="code-terminal" style="margin: 0; padding: 10px; border: none; background: #fafafa; color: black; font-size: 0.8rem;">
                            {<br>
                              "sub": "1234567890",<br>
                              "name": "John Doe",<br>
                              "admin": true<br>
                            }
                        </div>
                        <p class="mono" style="font-size: 0.8rem; margin-top: 5px;">(Base64 Encoded)</p>
                    </div>

                    <!-- Signature -->
                    <div class="node" style="border-color: #eda800; text-align: left;">
                        <h3 style="color: #eda800">3. Signature</h3>
                        <div class="code-terminal" style="margin: 0; padding: 10px; border: none; background: #fafafa; color: black; font-size: 0.8rem;">
                            HMACSHA256(<br>
                              base64(head) + "." +<br>
                              base64(pay),<br>
                              <strong>SECRET</strong><br>
                            )
                        </div>
                        <p class="mono" style="font-size: 0.8rem; margin-top: 5px;">(Hashed with Secret)</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- SLIDE 6: JWT FLOW DIAGRAM (Revised) -->
        <div class="slide">
            <span class="tag bg-red">05. Auth Flow</span>
            <div class="card sketchy-box" style="width: 100%;">
                <h2>JWT in Action</h2>
                <p style="margin-bottom: 20px;">Unlike sessions, the server doesn't store user state. The user holds their own "ID card".</p>

                <div class="flow-grid">
                    <!-- COLUMN 1: CLIENT -->
                    <div style="text-align: center;">
                        <h3 style="background: black; color: white; display: inline-block; padding: 5px 10px;">CLIENT (Browser)</h3>
                        
                        <div class="flow-step" style="margin-top: 20px;">
                            <div class="step-num">1</div>
                            <strong>Login Form</strong><br>
                            <span class="mono">user / pass</span>
                        </div>

                        <div style="height: 100px;"></div> <!-- Spacer -->

                        <div class="flow-step">
                            <div class="step-num">4</div>
                            <strong>Store JWT</strong><br>
                            <span class="mono">LocalStorage</span>
                        </div>
                    </div>

                    <!-- COLUMN 2: ARROWS -->
                    <div style="display: flex; flex-direction: column; justify-content: center; height: 100%;">
                        <!-- Arrow 1: Right -->
                        <div style="position: relative; height: 60px;">
                            <svg class="arrow-svg" viewBox="0 0 100 30" style="width:100px; transform: rotate(5deg); margin-top: -10px;">
                                <path d="M0,15 L90,15 M90,15 L80,5 M90,15 L80,25" stroke="black" stroke-width="3" fill="none"/>
                            </svg>
                            <span class="mono" style="font-size: 0.7rem; position: absolute; top: 25px; left: 10px;">POST /login</span>
                        </div>

                        <!-- Arrow 2: Left -->
                        <div style="position: relative; height: 60px; margin-top: 40px;">
                            <svg class="arrow-svg" viewBox="0 0 100 30" style="width:100px; transform: rotate(175deg);">
                                <path d="M0,15 L90,15 M90,15 L80,5 M90,15 L80,25" stroke="black" stroke-width="3" fill="none"/>
                            </svg>
                            <span class="mono" style="font-size: 0.7rem; position: absolute; bottom: -30px; left: 10px;">Response: { token }</span>
                        </div>
                    </div>

                    <!-- COLUMN 3: SERVER -->
                    <div style="text-align: center;">
                        <h3 style="background: var(--bauhaus-blue); color: white; display: inline-block; padding: 5px 10px;">SERVER</h3>
                        
                        <div class="flow-step" style="margin-top: 40px; border-color: var(--bauhaus-blue);">
                            <div class="step-num">2</div>
                            <strong>Validate User</strong><br>
                            <span class="mono">Check DB</span>
                        </div>

                        <div style="text-align: center; font-size: 2rem;">‚¨áÔ∏è</div>

                        <div class="flow-step" style="border-color: var(--bauhaus-blue);">
                            <div class="step-num">3</div>
                            <strong>Create & Sign JWT</strong><br>
                            <span class="mono">Sign with SECRET</span>
                        </div>
                    </div>
                </div>

                <div style="margin-top: 20px; border-top: 2px dashed black; padding-top: 10px;">
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <div class="step-num" style="position: static;">5</div>
                        <p style="font-size: 1.2rem;"><strong>Next Request:</strong> Client sends header <code style="background: #eee; padding: 2px;">Authorization: Bearer &lt;token&gt;</code>. Server verifies signature (using Secret). If valid, access granted.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- SLIDE 6: INTERACTIVE JWT EXAMPLE -->
        <div class="slide">
            <span class="tag bg-yellow">06. Real World Example</span>
            <div class="card sketchy-box" style="width: 100%; overflow-y: auto; max-height: 90vh;">
                <h2>JWT in Practice: E-Commerce Login</h2>
                <p style="margin-bottom: 20px; font-size: 1.4rem;">Interactive step-by-step JWT creation and validation</p>

                <div style="margin-top: 20px; display: flex; gap: 15px; margin-bottom: 20px; flex-wrap: wrap;">
                    <button onclick="showJWTStep(1)" style="padding: 8px 15px; background: #007aff; color: white; border: 2px solid black; cursor: pointer; font-weight: bold;">Step 1: Encode Header</button>
                    <button onclick="showJWTStep(2)" style="padding: 8px 15px; background: #007aff; color: white; border: 2px solid black; cursor: pointer; font-weight: bold;">Step 2: Encode Payload</button>
                    <button onclick="showJWTStep(3)" style="padding: 8px 15px; background: #ff3b30; color: white; border: 2px solid black; cursor: pointer; font-weight: bold;">Step 3: Hash & Sign</button>
                    <button onclick="showJWTStep(4)" style="padding: 8px 15px; background: #ffcc00; color: black; border: 2px solid black; cursor: pointer; font-weight: bold;">Step 4: Complete Token</button>
                    <button onclick="showJWTStep(5)" style="padding: 8px 15px; background: #34c759; color: white; border: 2px solid black; cursor: pointer; font-weight: bold;">Step 5: Verify</button>
                </div>

                <!-- JWT Step Display -->
                <div id="jwtDisplay" style="background: #f5f5f5; border: 3px solid black; padding: 20px; margin: 20px 0; min-height: 400px; display: flex; flex-direction: column; gap: 15px;">
                    
                    <!-- STEP 1: HEADER ENCODING -->
                    <div id="step1" class="jwt-step" style="display: none;">
                        <h3 style="color: var(--bauhaus-blue); margin-bottom: 10px;">Step 1: Encode Header</h3>
                        <p style="font-size: 1.1rem; margin-bottom: 10px;"><strong>Original Header (JSON):</strong></p>
                        <div class="code-terminal" style="margin-bottom: 10px;">
                            {<br>
                            &nbsp;&nbsp;"alg": "HS256",<br>
                            &nbsp;&nbsp;"typ": "JWT"<br>
                            }
                        </div>
                        <p style="font-size: 1.1rem; margin-bottom: 10px;"><strong>After Base64 Encoding:</strong></p>
                        <div style="background: white; border: 2px solid var(--bauhaus-blue); padding: 10px; font-family: 'Space Mono'; font-size: 1rem; word-break: break-all; box-shadow: 3px 3px 0 #ccc;">
                            eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9
                        </div>
                        <p style="margin-top: 10px; color: #666;"><strong>Process:</strong> JSON ‚Üí UTF-8 ‚Üí Base64 (No key needed, reversible)</p>
                    </div>

                    <!-- STEP 2: PAYLOAD ENCODING -->
                    <div id="step2" class="jwt-step" style="display: none;">
                        <h3 style="color: var(--bauhaus-blue); margin-bottom: 10px;">Step 2: Encode Payload (Claims)</h3>
                        <p style="font-size: 1.1rem; margin-bottom: 10px;"><strong>Original Payload (JSON):</strong></p>
                        <div class="code-terminal" style="margin-bottom: 10px;">
                            {<br>
                            &nbsp;&nbsp;"sub": "user@example.com",<br>
                            &nbsp;&nbsp;"name": "Alice Johnson",<br>
                            &nbsp;&nbsp;"role": "customer",<br>
                            &nbsp;&nbsp;"iat": 1702000000,<br>
                            &nbsp;&nbsp;"exp": 1702010000<br>
                            }
                        </div>
                        <p style="font-size: 1.1rem; margin-bottom: 10px;"><strong>After Base64 Encoding:</strong></p>
                        <div style="background: white; border: 2px solid var(--bauhaus-blue); padding: 10px; font-family: 'Space Mono'; font-size: 0.95rem; word-break: break-all; box-shadow: 3px 3px 0 #ccc;">
                            eyJzdWIiOiJ1c2VyQGV4YW1wbGUuY29tIiwibmFtZSI6IkFsaWNlIEpvaG5zb24iLCJyb2xlIjoiY3VzdG9tZXIiLCJpYXQiOjE3MDIwMDAwMDAsImV4cCI6MTcwMjAxMDAwMH0
                        </div>
                        <p style="margin-top: 10px; color: #666;"><strong>Process:</strong> Claims ‚Üí JSON ‚Üí UTF-8 ‚Üí Base64 (Still reversible, server only reads it)</p>
                    </div>

                    <!-- STEP 3: HASH & SIGN -->
                    <div id="step3" class="jwt-step" style="display: none;">
                        <h3 style="color: var(--bauhaus-red); margin-bottom: 10px;">Step 3: Hash & Sign (HMAC-SHA256)</h3>
                        <p style="font-size: 1.1rem; margin-bottom: 10px;"><strong>Input to Hash:</strong></p>
                        <div class="code-terminal" style="margin-bottom: 10px;">
                            eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyQGV4YW1wbGUuY29tIiwibmFtZSI6IkFsaWNlIEpvaG5zb24iLCJyb2xlIjoiY3VzdG9tZXIiLCJpYXQiOjE3MDIwMDAwMDAsImV4cCI6MTcwMjAxMDAwMH0
                        </div>
                        <p style="font-size: 1.1rem; margin-bottom: 10px;"><strong>Server Secret Key:</strong></p>
                        <div style="background: #1a1a1a; color: #00ff00; padding: 10px; font-family: 'Space Mono'; font-size: 1rem; border: 2px solid var(--bauhaus-red); box-shadow: 3px 3px 0 #ccc;">
                            "my_secret_server_key_12345"
                        </div>
                        <p style="font-size: 1.1rem; margin-bottom: 10px; margin-top: 10px;"><strong>Generated Signature (HMAC-SHA256):</strong></p>
                        <div style="background: white; border: 2px solid var(--bauhaus-red); padding: 10px; font-family: 'Space Mono'; font-size: 0.9rem; word-break: break-all; box-shadow: 3px 3px 0 #ccc;">
                            SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c
                        </div>
                        <p style="margin-top: 10px; color: #666;"><strong>Process:</strong> Header.Payload + Secret ‚Üí HMAC-SHA256 ‚Üí One-way signature (IRREVERSIBLE)</p>
                    </div>

                    <!-- STEP 4: COMPLETE TOKEN -->
                    <div id="step4" class="jwt-step" style="display: none;">
                        <h3 style="color: var(--bauhaus-yellow); margin-bottom: 10px;">Step 4: Complete JWT Token</h3>
                        <p style="font-size: 1.1rem; margin-bottom: 10px;"><strong>Final Token (Header.Payload.Signature):</strong></p>
                        <div style="background: white; border: 3px solid black; padding: 15px; font-family: 'Space Mono'; font-size: 0.85rem; word-break: break-all; box-shadow: 4px 4px 0 #ccc; margin-bottom: 10px;">
                            <span style="color: var(--bauhaus-red); font-weight: bold;">eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9</span>.<span style="color: var(--bauhaus-blue); font-weight: bold;">eyJzdWIiOiJ1c2VyQGV4YW1wbGUuY29tIiwibmFtZSI6IkFsaWNlIEpvaG5zb24iLCJyb2xlIjoiY3VzdG9tZXIiLCJpYXQiOjE3MDIwMDAwMDAsImV4cCI6MTcwMjAxMDAwMH0</span>.<span style="color: #eda800; font-weight: bold;">SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c</span>
                        </div>
                        <p style="font-size: 1rem; margin-bottom: 10px;"><strong>Ready to send!</strong> This token is sent to the client and stored in localStorage.</p>
                        <div style="background: #f0f0f0; padding: 10px; border-left: 4px solid var(--bauhaus-blue); margin-top: 10px;">
                            <p style="font-size: 1rem; margin: 0;"><strong>Client Action:</strong> On next request, sends: <code style="background: #ddd; padding: 2px 5px;">Authorization: Bearer &lt;token&gt;</code></p>
                        </div>
                    </div>

                    <!-- STEP 5: VERIFICATION -->
                    <div id="step5" class="jwt-step" style="display: none;">
                        <h3 style="color: #34c759; margin-bottom: 10px;">Step 5: Token Verification (Server)</h3>
                        <p style="font-size: 1.1rem; margin-bottom: 10px;"><strong>When Server Receives Token:</strong></p>
                        <div style="background: white; border: 2px dashed black; padding: 15px; margin-bottom: 10px;">
                            <p style="margin: 5px 0;"><strong>1. Extract Header:</strong> Decode first part (Base64) ‚Üí {alg: "HS256", typ: "JWT"}</p>
                            <p style="margin: 5px 0;"><strong>2. Extract Payload:</strong> Decode second part (Base64) ‚Üí Get user data</p>
                            <p style="margin: 5px 0;"><strong>3. Verify Signature:</strong> Recreate signature using Header.Payload + Server Secret</p>
                            <p style="margin: 5px 0;"><strong>4. Compare:</strong> Does recreated signature = sent signature?</p>
                        </div>
                        <p style="font-size: 1.1rem; margin-bottom: 10px;"><strong>Recreated Signature:</strong></p>
                        <div style="background: white; border: 2px solid #34c759; padding: 10px; font-family: 'Space Mono'; font-size: 0.9rem; word-break: break-all; box-shadow: 3px 3px 0 #ccc;">
                            SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c
                        </div>
                        <p style="font-size: 1.1rem; margin-bottom: 10px; margin-top: 10px;"><strong>Received Signature:</strong></p>
                        <div style="background: white; border: 2px solid #34c759; padding: 10px; font-family: 'Space Mono'; font-size: 0.9rem; word-break: break-all; box-shadow: 3px 3px 0 #ccc;">
                            SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c
                        </div>
                        <div style="background: #34c759; color: white; padding: 15px; text-align: center; font-size: 1.3rem; font-weight: bold; margin-top: 10px; border: 2px solid black;">
                            ‚úì MATCH! Token is VALID - User is authenticated!
                        </div>
                        <p style="margin-top: 10px; color: #666;"><strong>Key Insight:</strong> Without the secret key, attacker cannot modify payload AND recreate a valid signature!</p>
                    </div>

                </div>

                <!-- Initial Display -->
                <div id="initialMsg" style="display: flex; align-items: center; justify-content: center; height: 100%; text-align: center;">
                    <div>
                        <p style="font-size: 1.5rem; margin-bottom: 20px;">üëá Click a button above to see each step of JWT creation and validation üëá</p>
                        <p style="font-size: 1.2rem; color: #666;">Watch how data flows through encoding, hashing, and signing processes</p>
                    </div>
                </div>

            </div>
        </div>

    </div>

    <!-- NAVIGATION CONTROLS -->
    <div class="controls">
        <button class="btn btn-blue" onclick="prevSlide()">PREV</button>
        <button class="btn btn-red" onclick="nextSlide()">NEXT</button>
    </div>

    <script>
        let currentSlide = 0;
        const slides = document.querySelectorAll('.slide');
        const totalSlides = slides.length;

        function showSlide(index) {
            slides.forEach((slide, i) => {
                slide.classList.remove('active');
                if (i === index) {
                    slide.classList.add('active');
                }
            });
        }

        function nextSlide() {
            if (currentSlide < totalSlides - 1) {
                currentSlide++;
                showSlide(currentSlide);
            }
        }

        function prevSlide() {
            if (currentSlide > 0) {
                currentSlide--;
                showSlide(currentSlide);
            }
        }

        // JWT Interactive Step Function
        function showJWTStep(stepNum) {
            // Hide all steps
            const steps = document.querySelectorAll('.jwt-step');
            steps.forEach(step => step.style.display = 'none');
            
            // Hide initial message
            const initialMsg = document.getElementById('initialMsg');
            if (initialMsg) initialMsg.style.display = 'none';
            
            // Show selected step
            const stepId = 'step' + stepNum;
            const selectedStep = document.getElementById(stepId);
            if (selectedStep) {
                selectedStep.style.display = 'block';
                // Scroll to top of the display area
                selectedStep.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }
        }

        // Keyboard Support
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight' || e.key === ' ') nextSlide();
            if (e.key === 'ArrowLeft') prevSlide();
        });
    </script>
</body>
</html>